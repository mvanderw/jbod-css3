<!doctype html><meta charset="utf-8" /><title>Cards</title>


<!-- CSS -->
<link href="http://fonts.googleapis.com/css?family=Raleway:900" rel="stylesheet">
<style>
* { -moz-box-sizing: border-box; -webkit-box-sizing: border-box; box-sizing: border-box; }
html, body { margin: 0; padding: 0; height: 100%; background: #eee; color: #000; overflow: hidden; }
html, body, .boxwrap, .box { width: 100%; height: 100%; }
body.styled { background: linear-gradient(120deg, #001b4b 0%, #11205e 50%, #000327 100%); color: #eee; }
.boxwrap { cursor: default; -webkit-user-select: none; -moz-user-select: -moz-none; -ms-user-select: none; user-select: none; }
.cardwrap { position: absolute; z-index: 2; width: 90px; height: 100px; }
.card {
	position: absolute; width: 90px; height: 100px;
	background: #222; color: #eee;
	font: 900 90px/100px 'Raleway'; text-transform: uppercase; text-align: center;
}
.card:hover { background: #d00; }
.styled .card {
	background: #1b283d; background: #006ed3; color: #eee;
	background: linear-gradient(120deg, #00328a 0%, #006ed3 100%);
	box-shadow: 0 0 12px #000327;
}
.styled .card:hover { background: linear-gradient(120deg, #700 0%, #d00 100%); }
.cardwrap:hover { outline: 1px solid #d00; }
.card {
	-webkit-animation: flip 12s linear infinite;
	-moz-animation: flip 12s linear infinite;
	animation: flip 12s linear infinite;
}
.box {
	/*-webkit-animation: initial-zoom 45s cubic-bezier(0.62, 0.9, 0.58, 1.0) forwards;
	-moz-animation: initial-zoom 45s cubic-bezier(0.62, 0.9, 0.58, 1.0) forwards;
	animation: initial-zoom 45s cubic-bezier(0.62, 0.9, 0.58, 1.0) forwards;*/
	-webkit-animation: initial-zoom 9s ease-in-out forwards;
	-moz-animation: initial-zoom 9s ease-in-out forwards;
	animation: initial-zoom 9s ease-in-out forwards;
}
.boxwrap {
	-webkit-animation: boxwrap 8s ease-in-out infinite alternate;
	-moz-animation: boxwrap 8s ease-in-out infinite alternate;
	animation: boxwrap 8s ease-in-out infinite alternate;
}
@-webkit-keyframes flip {
	  0% { -webkit-transform: rotateX(0) rotateY(0) rotateZ(0); }
	 50% { -webkit-transform: rotateX(360deg) rotateY(0) rotateZ(360deg); }
	100% { -webkit-transform: rotateX(720deg) rotateY(0) rotateZ(720deg); }
}
@-webkit-keyframes initial-zoom {
	  0% { -webkit-perspective: 3000px; opacity: 0.5; -webkit-transform: scale(0); }
	 50% { -webkit-perspective: 25000px; opacity: 1; -webkit-transform: scale(1); }
	100% { -webkit-perspective: 25000px; opacity: 1; -webkit-transform: scale(1); }
}
@-webkit-keyframes boxwrap {
	   0% { -webkit-transform: scale(1, 1); }
	 100% { -webkit-transform: scale(1.2, 1); }
}
@-moz-keyframes flip {
	  0% { -moz-transform: rotateX(0) rotateY(0) rotateZ(0); }
	 50% { -moz-transform: rotateX(360deg) rotateY(0) rotateZ(360deg); }
	100% { -moz-transform: rotateX(720deg) rotateY(0) rotateZ(720deg); }
}
@-moz-keyframes initial-zoom {
	  0% { -moz-perspective: 3000px; opacity: 0.5; -moz-transform: scale(0); }
	 50% { -moz-perspective: 25000px; opacity: 1; -moz-transform: scale(1); }
	100% { -moz-perspective: 25000px; opacity: 1; -moz-transform: scale(1); }
}
@-moz-keyframes boxwrap {
	   0% { -moz-transform: scale(1, 1); }
	 100% { -moz-transform: scale(1.2, 1); }
}
@keyframes flip {
	  0% { transform: rotateX(0) rotateY(0) rotateZ(0); }
	 50% { transform: rotateX(360deg) rotateY(0) rotateZ(360deg); }
	100% { transform: rotateX(720deg) rotateY(0) rotateZ(720deg); }
}
@keyframes initial-zoom {
	  0% { perspective: 3000px; opacity: 0.5; transform: scale(0); }
	 50% { perspective: 25000px; opacity: 1; transform: scale(1); }
	100% { perspective: 25000px; opacity: 1; transform: scale(1); }
}
@keyframes boxwrap {
	   0% { transform: scale(1, 1); }
	 100% { transform: scale(1.2, 1); }
}
body, .boxwrap, .box, .cardwrap, .card {
	-webkit-transform-style: preserve-3d;
	-moz-transform-style: preserve-3d;
	transform-style: preserve-3d;
}
.paused .boxwrap, .paused .box, .paused .cardwrap, .paused .card {
	-webkit-animation-play-state: paused;
	-moz-animation-play-state: paused;
	animation-play-state: paused;
}
figure {
	position: absolute; z-index: 100000; top: 0; left: 0; margin: 0; padding: 10px;
	-webkit-transform: translateZ(100000px); -moz-transform: translateZ(100000px); transform: translateZ(100000px);
	background: rgba(255, 255, 255, 0.5); color: #111; text-shadow: 0 1px 0 rgba(255, 255, 255, 0.5);
	font: 14px/20px Arial, sans-serif;
}
figure button {
	cursor: pointer;
	border: none; outline: none; padding: 5px 10px; margin: 0 0 0 5px;
	background: rgba(0, 0, 0, 0.5); color: #eee; text-shadow: 0 1px 0 #000;
}
figure button:hover { background: rgba(0, 0, 0, 0.75); }
figure button.pause::after { content: 'Pause'; }
.paused figure button.pause::after { content: 'Play'; }
fps { position: relative; top: 1px; display: inline-block; width: 2.5em; font-weight: bold; font-size: 16px; }
fps::after { position: relative; bottom: 2px; left: 3px; content: 'FPS'; font-weight: normal; font-size: 8px; }
</style>


<!-- JS -->
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
<script>

var
r = function(min, max) {
	var ret = (Math.random() * (max - min)) + min;
	return ((min + max) % 1 === 0) ? Math.ceil(ret) : Math.round(ret * 100) / 100;
},
w = $(window).width(),
h = $(window).height()
;

var
body = '<body class="'+ (location.hash ? '' : 'styled') +'">',
info = '<figure><fps>__</fps><button class="toggle-style">Style</button><button class="pause"></button></figure>',
page = '<div class="boxwrap"><div class="box">',
text = 'The quick brown fox jumps over the lazy dog', text = (new Array(3)).join(text),
cards = text.replace(/[\sw]/g, '').split('')
;

document.write(body + info + page);

// FPS
window.raf =
	window.requestAnimationFrame || 
	window.mozRequestAnimationFrame || 
	window.webkitRequestAnimationFrame || 
	function(callback) {
		return setTimeout(callback, 16); // the "I don't give a fuck" douchebag shim version :)
	}
;
var fps = {
	start: Date.now(),
	history: [],
	push: function() {
		fps.history.unshift(Math.round(1000 / (Date.now() - fps.start)));
		fps.history = fps.history.slice(0, 60);
		fps.start = Date.now();
		raf(fps.push);
	},
	show: function() {
		var sum = 0, average;
		for (var i = fps.history.length - 1; i >= 0; sum += fps.history[i--]);
		average = sum / fps.history.length;
		if (!average || average > 100 || average < 0) average = '__';
		$('fps').text(Math.round(average) || '__');
		return setTimeout(fps.show, 100);
	}
};
fps.show();
raf(fps.push);

// Cards
$.each(cards, function(i) {
	var
	z = i++ * 100,
	s = r(0.5, 1.25),
	$cardwrap = $('<div/>')
		.addClass('cardwrap')
		.css({
			top: r(0, 90) +'%',
			left: r(0, 90) +'%',
			transform: 'translateZ('+ z +'px) scale('+ s +') rotate('+ r(0, 180) +'deg)'
		})
	,
	$card = $('<div/>')
		.addClass('card')
		.text(this)
		.css({
			animationDelay: r(0.1, 1.3) +'s',
			animationDuration: r(10, 40) +'s'
		})
	;
	$('.box').append($cardwrap.html($card));
});

$('.toggle-style').on('click', function() {
	$('body').toggleClass('styled');
	location.hash = location.hash ? '' : Date.now();
});
$('.pause').on('click', function() { $('body').toggleClass('paused'); });

</script>